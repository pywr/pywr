<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pywr.nodes.DelayNode &mdash; Pywr 1.23.1.dev2+g582a764b documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=e83a45fb"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pywr.domains.river.Catchment" href="pywr.domains.river.Catchment.html" />
    <link rel="prev" title="pywr.nodes.AggregatedNode" href="pywr.nodes.AggregatedNode.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Pywr
          </a>
              <div class="version">
                1.23.1.dev2+g582a764b
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installing Pywr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../formulation.html">Problem formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json.html">JSON model format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../err_perf.html">GLPK error handling and performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending_pywr/index.html">Extending Pywr</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pywr.html">Python API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pywr.core.html">Core classes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../pywr.nodes.html">Nodes</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../pywr.nodes.html#nodes-classes">Nodes classes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.Node.html">pywr.nodes.Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.Link.html">pywr.nodes.Link</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.Input.html">pywr.nodes.Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.Output.html">pywr.nodes.Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.BreakLink.html">pywr.nodes.BreakLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.LossLink.html">pywr.nodes.LossLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.PiecewiseLink.html">pywr.nodes.PiecewiseLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.MultiSplitLink.html">pywr.nodes.MultiSplitLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.Storage.html">pywr.nodes.Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.VirtualStorage.html">pywr.nodes.VirtualStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.RollingVirtualStorage.html">pywr.nodes.RollingVirtualStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.MonthlyVirtualStorage.html">pywr.nodes.MonthlyVirtualStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.AnnualVirtualStorage.html">pywr.nodes.AnnualVirtualStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.SeasonalVirtualStorage.html">pywr.nodes.SeasonalVirtualStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.AggregatedStorage.html">pywr.nodes.AggregatedStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.nodes.AggregatedNode.html">pywr.nodes.AggregatedNode</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pywr.nodes.DelayNode</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.Catchment.html">pywr.domains.river.Catchment</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.Reservoir.html">pywr.domains.river.Reservoir</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.River.html">pywr.domains.river.River</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.RiverSplit.html">pywr.domains.river.RiverSplit</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.RiverSplitWithGauge.html">pywr.domains.river.RiverSplitWithGauge</a></li>
<li class="toctree-l4"><a class="reference internal" href="pywr.domains.river.RiverGauge.html">pywr.domains.river.RiverGauge</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.optimisation.html">Optimisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.parameters.html">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.recorders.html">Recorders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.solvers.html">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.notebook.html">Notebook Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pywr.utils.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Pywr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../pywr.html">Pywr reference documentation.</a></li>
          <li class="breadcrumb-item"><a href="../pywr.nodes.html">Nodes</a></li>
      <li class="breadcrumb-item active">pywr.nodes.DelayNode</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/generated/pywr.nodes.DelayNode.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pywr-nodes-delaynode">
<h1>pywr.nodes.DelayNode<a class="headerlink" href="#pywr-nodes-delaynode" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pywr.nodes.DelayNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywr.nodes.</span></span><span class="sig-name descname"><span class="pre">DelayNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywr.nodes.DelayNode" title="Link to this definition"></a></dt>
<dd><p>A node that delays flow for a given number of timesteps or days.</p>
<p>This is a composite node consisting internally of an Input and an Output node. A
<cite>FlowDelayParameter</cite> is used to delay the flow of the output node for a given period prior
to this delayed flow being set as the flow of the input node. Connections to the node are connected
to the internal output node and connection from the node are connected to the internal input node
node.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier"><cite>pywr.model.Model</cite></span></dt><dd></dd>
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>Name of the node.</p>
</dd>
<dt><strong>timesteps: int</strong></dt><dd><p>Number of timesteps to delay the flow.</p>
</dd>
<dt><strong>days: int</strong></dt><dd><p>Number of days to delay the flow. Specifying a number of days (instead of a number
of timesteps) is only valid if the number of days is exactly divisible by the model
timestep delta.</p>
</dd>
<dt><strong>initial_flow: float</strong></dt><dd><p>Flow provided by node for initial timesteps prior to any delayed flow being available.
This is constant across all delayed timesteps and any model scenarios. Default is 0.0.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pywr.nodes.DelayNode.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywr.nodes.DelayNode.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialise a new Node object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">Model</span></dt><dd><p>The model the node belongs to</p>
</dd>
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>A unique name for the node</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pywr.nodes.DelayNode.__init__" title="pywr.nodes.DelayNode.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(model, name, **kwargs)</p></td>
<td><p>Initialise a new Node object</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">after</span></code>(self, Timestep ts)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">before</span></code>(self, Timestep ts)</p></td>
<td><p>Called at the beginning of the timestep</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check</span></code>()</p></td>
<td><p>Check the node is valid</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">commit</span></code>(self, int scenario_index, double value)</p></td>
<td><p>Called once for each route the node is a member of</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">commit_all</span></code>(self, double[)</p></td>
<td><p>Called once for each route the node is a member of</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code>(node[, from_slot, to_slot])</p></td>
<td><p>Create an edge from this Node to another Node</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code>([node, slot_name, all_slots])</p></td>
<td><p>Remove a connection from this Node to another Node</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalise_load</span></code>()</p></td>
<td><p>Finish loading a node by converting parameter name references to instance references.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_all_cost</span></code>(self, double[)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_all_max_flow</span></code>(self, double[)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_all_min_flow</span></code>(self, double[)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_constant_max_flow</span></code>(self)</p></td>
<td><p>Returns max_flow value if it is a constant parameter or fixed value otherwise returns NaN.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_constant_min_flow</span></code>(self)</p></td>
<td><p>Returns min_flow value if it is a constant parameter or fixed value otherwise returns NaN.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_conversion_factor</span></code>(self)</p></td>
<td><p>Get the conversion factor</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cost</span></code>(self, ScenarioIndex scenario_index)</p></td>
<td><p>Get the cost per unit flow at a given timestep</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fixed_max_flow</span></code>(self)</p></td>
<td><p>Returns max_flow value if it is fixed value otherwise returns NaN.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fixed_min_flow</span></code>(self)</p></td>
<td><p>Returns min_flow value if it is a fixed value otherwise returns NaN.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_max_flow</span></code>(self, ScenarioIndex scenario_index)</p></td>
<td><p>Get the maximum flow at a given timestep</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_min_flow</span></code>(self, ScenarioIndex scenario_index)</p></td>
<td><p>Get the minimum flow at a given timestep</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_slots</span></code>([slot_name, is_connector])</p></td>
<td><p>Returns the object(s) wich should be connected to given slot_name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pre_load</span></code>(model, data)</p></td>
<td><p>Create a node instance from data.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code>(self)</p></td>
<td><p>Called at the beginning of a run</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code>(self, model)</p></td>
<td><p>Called before the first run of the model</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allow_isolated</span></code></p></td>
<td><p>A property to flag whether this Node can be unconnected in a network.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">comment</span></code></p></td>
<td><p>comment: basestring</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">component_attrs</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">components</span></code></p></td>
<td><p>Generator that returns all of the Components attached to the Node</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conversion_factor</span></code></p></td>
<td><p>The conversion between inflow and outflow for the node</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">cost</span></code></p></td>
<td><p>The cost per unit flow via the node</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">flow</span></code></p></td>
<td><p>Total flow via this node in the current timestep</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fully_qualified_name</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_constant_flows</span></code></p></td>
<td><p>Returns true if both min_flow and max_flow are literal constants or &quot;constant&quot; Parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_fixed_cost</span></code></p></td>
<td><p>Returns true if cost is not a Parameter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_fixed_flows</span></code></p></td>
<td><p>Returns true if both min_flow and max_flow are not Parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_flow</span></code></p></td>
<td><p>The maximum flow constraint on the node</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">min_flow</span></code></p></td>
<td><p>The minimum flow constraint on the node</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code></p></td>
<td><p>The recorder for the node, e.g. a NumpyArrayRecorder.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>Name of the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parent</span></code></p></td>
<td><p>The parent Node/Storage of this object.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">prev_flow</span></code></p></td>
<td><p>Total flow via this node in the previous timestep</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">recorders</span></code></p></td>
<td><p>Returns a list of <cite>pywr.recorders.Recorder</cite> objects attached to this node.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">virtual</span></code></p></td>
<td><p>virtual: 'bool'</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pywr.nodes.AggregatedNode.html" class="btn btn-neutral float-left" title="pywr.nodes.AggregatedNode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pywr.domains.river.Catchment.html" class="btn btn-neutral float-right" title="pywr.domains.river.Catchment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (C) 2014-19 Joshua Arnott, James E. Tomlinson, Atkins, University of Manchester.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>